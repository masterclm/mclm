<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function builds a concordance for the matches of a regular expression. The result is a
dataset that can be written to a file with the function write_conc().
It mimics the behavior of the concordance tool in the program AntConc."><title>Build a concordance for the matches of a regex — conc • mclm</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Poppins-0.4.2/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.2/font.css" rel="stylesheet"><link href="../deps/Raleway-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build a concordance for the matches of a regex — conc"><meta property="og:description" content="This function builds a concordance for the matches of a regular expression. The result is a
dataset that can be written to a file with the function write_conc().
It mimics the behavior of the concordance tool in the program AntConc."><meta property="og:image" content="https://masterclm.github.io/mclm/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mclm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/masterclm/mclm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Build a concordance for the matches of a regex</h1>
      <small class="dont-index">Source: <a href="https://github.com/masterclm/mclm/blob/HEAD/R/conc.R" class="external-link"><code>R/conc.R</code></a></small>
      <div class="d-none name"><code>conc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function builds a concordance for the matches of a regular expression. The result is a
dataset that can be written to a file with the function <code><a href="write_conc.html">write_conc()</a></code>.
It mimics the behavior of the concordance tool in the program AntConc.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">conc</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">pattern</span>,</span>
<span>  c_left <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  c_right <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  perl <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  re_drop_line <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  line_glue <span class="op">=</span> <span class="st">"\n"</span>,</span>
<span>  re_cut_area <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  file_encoding <span class="op">=</span> <span class="st">"UTF-8"</span>,</span>
<span>  as_text <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A character vector determining which text is to be used as corpus.</p>
<p>If <code>as_text = TRUE</code>, <code>x</code> is treated as the actual text to be used
as corpus.</p>
<p>If <code>as_text = FALSE</code> (the default), <code>x</code> is treated as a vector of
filenames, interpreted as the names of the corpus files that contain the
actual corpus data.</p></dd>


<dt>pattern</dt>
<dd><p>Character string containing the regular expression that serves
as search term for the concordancer.</p></dd>


<dt>c_left</dt>
<dd><p>Number. How many characters to the left of each match must be
included in the result as left co-text of the match.</p></dd>


<dt>c_right</dt>
<dd><p>Number. How many characters to the right of each match must be
included in the result as right co-text of the match.</p></dd>


<dt>perl</dt>
<dd><p>If <code>TRUE</code>, <code>pattern</code> is treated as a PCRE flavor regular
expression. Otherwise, <code>pattern</code> is treated as a regular expression in R's
default flavor of regular expression.</p></dd>


<dt>re_drop_line</dt>
<dd><p>Character vector or <code>NULL</code>. If <code>NULL</code>, the argument
is ignored.
Otherwise, lines in <code>x</code> containing a match for <code>re_drop_line</code> are
treated as not belonging to the corpus and are excluded from the results.</p></dd>


<dt>line_glue</dt>
<dd><p>Character vector or <code>NULL</code>. If <code>NULL</code>, the argument
is ignored.
Otherwise, all lines in the corpus are glued together in one character
vector of length 1, with the string <code>line_glue</code> pasted in between
consecutive lines.
The value of <code>line_glue</code> can also be equal to the empty string (<code>""</code>).
The 'line_glue' operation is conducted immediately after the 'drop line' operation.</p></dd>


<dt>re_cut_area</dt>
<dd><p>Character vector or <code>NULL</code>. If <code>NULL</code>, the argument
is ignored.
Otherwise, all matches in the corpus are 'cut out' of the text prior to the
identification of the tokens in the text (and are therefore not taken into
account when identifying tokens).
The 'cut area' operation is conducted immediately after the 'line glue' operation.</p></dd>


<dt>file_encoding</dt>
<dd><p>File encoding for reading each corpus file. Ignored if
<code>as_text = TRUE</code>. Otherwise, it must be a character vector of length one
(in which case the same encoding is used for all files) or with the same
length as <code>x</code> (in which case each file can have a different encoding).</p></dd>


<dt>as_text</dt>
<dd><p>Logical.
If <code>TRUE</code>, the content of <code>x</code> is treated
as the actual text of the corpus (with each item within <code>x</code> treated as
a separate 'document in RAM').</p>
<p>If <code>FALSE</code>, <code>x</code> is treated as a vector of filenames, interpreted
as the names of the corpus files with the actual corpus data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Object of class <code>conc</code>, a kind of data frame with as its rows
the matches and with the following columns:</p><ul><li><p><code>glob_id</code>: Number indicating the position of the match in the
overall list of matches.</p></li>
<li><p><code>id</code>: Number indicating the position of the match in the list of matches
for one specific query.</p></li>
<li><p><code>source</code>: Either the filename of the file in which the match was found
(in case of the setting <code>as_text = FALSE</code>), or the string '-'
(in case of the setting <code>as_text = TRUE</code>).</p></li>
<li><p><code>left</code>: The left-hand side co-text of each match.</p></li>
<li><p><code>match</code>: The actual match.</p></li>
<li><p><code>right</code>: The right-hand side co-text of each match.</p></li>
</ul><p>It also has additional attributes and methods such as:</p><ul><li><p>base <code><a href="as_data_frame.html">as_data_frame()</a></code> and <code><a href="mclm_print.html">print()</a></code> methods, as well as
a <code><a href="print_kwic.html">print_kwic()</a></code> function,</p></li>
<li><p>an <code><a href="explore.html">explore()</a></code> method.</p></li>
</ul><p>An object of class <code>conc</code> can be merged with another by means of <code><a href="merge_conc.html">merge_conc()</a></code>.
It can be written to file with <code><a href="write_conc.html">write_conc()</a></code> and then
read with <code><a href="read_conc.html">read_conc()</a></code>. It is also possible to import concordances created
by means other than <code><a href="write_conc.html">write_conc()</a></code> with <code><a href="import_conc.html">import_conc()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In order to make sure that the columns <code>left</code>, <code>match</code>,
and <code>right</code> in the output of <code>conc</code> do not contain any TAB or NEWLINE
characters, whitespace in these items is being 'normalized'.
More particularly, each stretch of whitespace, i.e. each  uninterrupted
sequences of whitespace characters, is replaced by  a single SPACE character.</p>
<p>The values in the items the <code>glob_id</code> and <code>id</code> in the output
of <code>conc</code> are always identical in a dataset that is the output of the
function <code>conc</code>. The item <code>glob_id</code> only becomes useful when later,
for instance, one wants to merge two datasets.#'</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="op">(</span><span class="va">conc_data</span> <span class="op">&lt;-</span> <span class="fu">conc</span><span class="op">(</span><span class="st">'A very small corpus.'</span>, <span class="st">'\\w+'</span>, as_text <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Concordance-based data frame (number of observations: 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> idx                                           left<span style="color: #C6C6C6;">|</span>match <span style="color: #C6C6C6;">|</span>right             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  1</span>                                               <span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">  A   </span><span style="color: #C6C6C6;">|</span>very small corpus.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  2</span>                                              A<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;"> very </span><span style="color: #C6C6C6;">|</span>small corpus.     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  3</span>                                         A very<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">small </span><span style="color: #C6C6C6;">|</span>corpus.           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  4</span>                                   A very small<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">corpus</span><span style="color: #C6C6C6;">|</span>.                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This data frame has 6 columns:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    column</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 glob_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    left</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   match</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   right</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">conc_data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Concordance-based data frame (number of observations: 4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> idx                                           left<span style="color: #C6C6C6;">|</span>match <span style="color: #C6C6C6;">|</span>right             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  1</span>                                               <span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">  A   </span><span style="color: #C6C6C6;">|</span>very small corpus.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  2</span>                                              A<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;"> very </span><span style="color: #C6C6C6;">|</span>small corpus.     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  3</span>                                         A very<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">small </span><span style="color: #C6C6C6;">|</span>corpus.           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  4</span>                                   A very small<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">corpus</span><span style="color: #C6C6C6;">|</span>.                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This data frame has 6 columns:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    column</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 glob_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    left</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   match</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   right</span>
<span class="r-in"><span><span class="fu"><a href="print_kwic.html">print_kwic</a></span><span class="op">(</span><span class="va">conc_data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> idx                                           left<span style="color: #C6C6C6;">|</span>match <span style="color: #C6C6C6;">|</span>right             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  1</span>                                               <span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">  A   </span><span style="color: #C6C6C6;">|</span>very small corpus.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  2</span>                                              A<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;"> very </span><span style="color: #C6C6C6;">|</span>small corpus.     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  3</span>                                         A very<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">small </span><span style="color: #C6C6C6;">|</span>corpus.           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #C6C6C6;">  4</span>                                   A very small<span style="color: #C6C6C6;">|</span><span style="color: #0000BB;">corpus</span><span style="color: #C6C6C6;">|</span>.                 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Dirk Speelman, Mariana Montes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

