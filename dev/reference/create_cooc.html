<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="These functions builds a surface or textual collocation frequency for a specific node."><title>Build collocation frequencies. — create_cooc • mclm</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Poppins-0.4.2/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.2/font.css" rel="stylesheet"><link href="../deps/Raleway-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build collocation frequencies. — create_cooc"><meta property="og:description" content="These functions builds a surface or textual collocation frequency for a specific node."><meta property="og:image" content="https://masterclm.github.io/mclm/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mclm</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.7.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/masterclm/mclm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Build collocation frequencies.</h1>
      <small class="dont-index">Source: <a href="https://github.com/masterclm/mclm/blob/HEAD/R/assoc.R" class="external-link"><code>R/assoc.R</code></a></small>
      <div class="d-none name"><code>create_cooc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions builds a surface or textual collocation frequency for a specific node.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">surf_cooc</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">re_node</span>,</span>
<span>  w_left <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  w_right <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  re_boundary <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_drop_line <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  line_glue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_cut_area <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_token_splitter <span class="op">=</span> <span class="fu"><a href="re.html">re</a></span><span class="op">(</span><span class="st">"[^_\\p{L}\\p{N}\\p{M}'-]+"</span><span class="op">)</span>,</span>
<span>  re_token_extractor <span class="op">=</span> <span class="fu"><a href="re.html">re</a></span><span class="op">(</span><span class="st">"[_\\p{L}\\p{N}\\p{M}'-]+"</span><span class="op">)</span>,</span>
<span>  re_drop_token <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_token_transf_in <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  token_transf_out <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  token_to_lower <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  perl <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  blocksize <span class="op">=</span> <span class="fl">300</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dot_blocksize <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  file_encoding <span class="op">=</span> <span class="st">"UTF-8"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">text_cooc</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">re_node</span>,</span>
<span>  re_boundary <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_drop_line <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  line_glue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_cut_area <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_token_splitter <span class="op">=</span> <span class="fu"><a href="re.html">re</a></span><span class="op">(</span><span class="st">"[^_\\p{L}\\p{N}\\p{M}'-]+"</span><span class="op">)</span>,</span>
<span>  re_token_extractor <span class="op">=</span> <span class="fu"><a href="re.html">re</a></span><span class="op">(</span><span class="st">"[_\\p{L}\\p{N}\\p{M}'-]+"</span><span class="op">)</span>,</span>
<span>  re_drop_token <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  re_token_transf_in <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  token_transf_out <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  token_to_lower <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  perl <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  blocksize <span class="op">=</span> <span class="fl">300</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dot_blocksize <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  file_encoding <span class="op">=</span> <span class="st">"UTF-8"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>List of filenames of the corpus files.</p></dd>


<dt>re_node</dt>
<dd><p>Regular expression used for identifying instances of the 'node',
i.e. the target item for which collocation information is collected.</p></dd>


<dt>w_left</dt>
<dd><p>Number of tokens to the left of the 'node' that are treated as
belonging to the co-text of the 'node'. (But also see <code>re_boundary</code>.)</p></dd>


<dt>w_right</dt>
<dd><p>Number of tokens to the right of the 'node' that are treated as
belonging to the co-text of the 'node'. (But also see <code>re_boundary</code>.)</p></dd>


<dt>re_boundary</dt>
<dd><p>Regular expression.</p>
<p>For <code>text_cooc()</code>, it identifies boundaries between 'textual units'.</p>
<p>For <code>surf_cooc()</code>, it identifies 'cut-off' points for the co-text of
the 'node'. If it is not <code>NULL</code>, the maximum length of the left and right
co-texts are still given by <code>w_left</code> and <code>w_right</code>, but if a match
for <code>re_boundary</code> is found within the co-text, both the 'boundary token'
and all tokens beyond it are excluded.</p></dd>


<dt>re_drop_line</dt>
<dd><p>Regular expression or <code>NULL</code>. if <code>NULL</code>, the
argument  is ignored. Otherwise, lines in the corpus that match it are
treated as not belonging to the corpus and excluded from the results.</p></dd>


<dt>line_glue</dt>
<dd><p>Character vector or <code>NULL</code>. if <code>NULL</code>, the argument
is ignored.
Otherwise, all the lines in the corpus are glued together in one character
vector of length 1, with the string <code>line_glue</code> pasted in between
consecutive lines.</p>
<p>This value can also be equal to an empty string <code>""</code>.</p>
<p>The 'line glue' operation is conducted immediately after the 'drop line' operation.</p></dd>


<dt>re_cut_area</dt>
<dd><p>Regular expression or <code>NULL</code>. if <code>NULL</code>, the
argument  is ignored.
Otherwise, all matches in the corpus are 'cut out' from the text
prior to the identification of the tokens and are therefore not taken into
account when identifying the tokens.</p>
<p>The 'cut area' operation is conducted immediately after the 'line glue' operation.</p></dd>


<dt>re_token_splitter</dt>
<dd><p>Regular expression or <code>NULL</code>. if <code>NULL</code>,
the argument is ignored and <code>re_token_extractor</code> is used instead.
Otherwise, it identifies the areas between the tokens within a line of the corpus.</p>
<p>The 'token identification' operation is conducted immediately after the
'cut area' operation.</p></dd>


<dt>re_token_extractor</dt>
<dd><p>Regular expression that identifies the locations of
the actual tokens. It is only used if <code>re_token_splitter</code> is <code>NULL</code>.
Currently the implementation of this argument is a lot less time-efficient
than that of <code>re_token_splitter</code>.</p>
<p>The 'token identification' operation is conducted immediately after the
'cut area' operation.</p></dd>


<dt>re_drop_token</dt>
<dd><p>Regular expression or <code>NULL</code>. if <code>NULL</code>, the
argument is ignored. Otherwise, it identifies tokens to be excluded from the results.</p>
<p>The 'drop token' operation is conducted immediately after the 'token
identification' operation.</p></dd>


<dt>re_token_transf_in</dt>
<dd><p>A regular expression that identifies areas in the
tokens that are to be transformed. This argument works together with
<code>token_transf_out</code>. If either of them is <code>NULL</code>, they are both ignored.</p>
<p>Otherwise, all matches in the tokens for <code>re_token_transf_in</code> are
replaced with the replacement string <code>token_transf_out</code>.</p>
<p>The 'token transformation' operation is conducted immediately after the
'drop token' transformation.</p></dd>


<dt>token_transf_out</dt>
<dd><p>A 'replacement string'. This argument works together
with <code>re_token_transf_in</code> and is ignored if either argument is <code>NULL</code>.</p></dd>


<dt>token_to_lower</dt>
<dd><p>Logical. Whether tokens should be converted to
lowercase before returning the results.</p>
<p>The 'token to lower' operation is conducted immediately after the 'token
transformation' operation.</p></dd>


<dt>perl</dt>
<dd><p>Logical. Whether the PCRE flavor of regular expressions
should be used in the arguments that contain regular expressions.</p></dd>


<dt>blocksize</dt>
<dd><p>Number indicating how many corpus files are read to memory
'at each individual step' during the steps in the procedure. Normally the
default value of <code>300</code> should not be changed, but when one works with
exceptionally small corpus files, it may be worthwhile to use a higher
number, and when one works with exceptionally large corpus files, it may be
worthwhile to use a lower number.</p></dd>


<dt>verbose</dt>
<dd><p>Logical. If <code>TRUE</code>, messages are printed to the
console to indicate progress.</p></dd>


<dt>dot_blocksize</dt>
<dd><p>Logical. If <code>TRUE</code>, dots are printed to the
console to indicate progress.</p></dd>


<dt>file_encoding</dt>
<dd><p>Encoding of the input files.</p>
<p>Either a character vector of length 1, in which case all files are assumed
to be in the same encoding, or a character vector with the same length as
<code>x</code>, which allows for different encodings for different files.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>cooc_info</code>, containing information on
co-occurrence frequencies.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Two major steps can be distinguished in the procedure conducted by these functions.
The first major step is the <em>identification of the (sequence of) tokens</em> that,
for the purpose of this analysis, will be considered to be the content of the corpus.</p>
<p>The function arguments that jointly determine the details of this step are
<code>re_drop_line</code>, <code>line_glue</code>, <code>re_cut_area</code>, <code>re_token_splitter</code>,
<code>re_token_extractor</code>, <code>re_drop_token</code>, <code>re_token_transf_in</code>,
<code>token_transf_out</code>, and <code>token_to_lower</code>.
The sequence of tokens that is the ultimate outcome of this step is then
handed over to the second major step of the procedure.</p>
<p>The second major step is the <em>establishment of the co-occurrence frequencies</em>.
The function arguments that jointly determine the details of this step are
<code>re_node</code> and <code>re_boundary</code> for both functions,
and <code>w_left</code> and <code>w_right</code> for <code>surf_cooc()</code> only.
It is important to know that this second step is conducted after the tokens
of the corpus have been identified, and that it is applied to a sequence of
tokens, not to the original text. More specifically the regular expressions
<code>re_node</code> and <code>re_boundary</code> are tested against individual tokens,
as they are identified by the token identification procedure.
Moreover, in <code>surf_cooc()</code>, the numbers <code>w_left</code> and <code>w_right</code>
also apply to tokens a they are identified by the token identification procedure.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>surf_cooc()</code>: Build surface collocation frequencies</p></li>
<li><p><code>text_cooc()</code>: Build textual collocation frequencies</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Dirk Speelman, Mariana Montes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

